{"version":3,"sources":["API/productAPI.js","Login.js","Components/Datatable.js","Home.js","API/userAPI.js","GlobalState.js","App.js","reportWebVitals.js","index.js"],"names":["ProductAPI","useState","product","setProduct","useEffect","a","token","localStorage","getItem","fetch","method","headers","response","json","getProduct","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Login","classes","username","setUsername","password","setPassword","subdomain","setSubdomain","loginSubmit","e","preventDefault","url","reqBody","console","log","body","data","setItem","window","location","href","error","Container","component","maxWidth","CssBaseline","className","Typography","variant","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","value","autoComplete","autoFocus","onChange","target","type","Button","color","Datatable","props","Object","keys","undefined","map","item","Home","setData","q","setQ","searchColumns","Authorization","res","items","rows","cellPadding","cellSpacing","sort","filter","row","some","column","toString","toLowerCase","indexOf","UserAPI","isLogged","setIsLogged","GlobalState","createContext","DataProvider","children","setToken","callback","setCallback","firstLogin","state","userAPI","productAPI","Provider","App","useContext","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5d21087f.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\n\nconst api = '/api/ticket'\n\nexport function ProductAPI() {\n\n    const [product, setProduct] = useState([])\n    useEffect(() =>{\n        const getProduct = async () => {\n            const url = `https://face.ox-sys.com/variations?size=10&page=1`;\n            const token = localStorage.getItem(\"token\");\n            const response = await fetch(url, {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                \"Authorization\": \"Bearer \" + token,\n              },\n            });\n            \n            const data = await response.json();\n          };\n          getProduct();\n    }, [])\n\n    return {\n        product: [product, setProduct]\n    }\n}\n\n","import React, {useState} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { ProductAPI } from \"./API/productAPI\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction Login() {\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [subdomain, setSubdomain] = useState('')\n  \n  \n  const onChangeUsername = (e) => {\n    setUsername(e.target.value)\n  }\n  const onChangePassword = (e) => {\n    setPassword(e.target.value)\n  }\n  const onChangeSubdomain = (e) => {\n    setSubdomain(e.target.value)\n  }\n\n  const  loginSubmit = async e =>{\n    e.preventDefault()\n    const url = `https://${subdomain}.ox-sys.com/security/auth_check`;\n    var reqBody = `_username=${username}&_password=${password}&_subdomain=${subdomain}`;\n    console.log(reqBody) \n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        body: reqBody,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      });\n      const data = await response.json();\n      localStorage.setItem('token', data.token)\n      localStorage.setItem('subdomain', subdomain)\n      window.location.href = \"/home\"\n    } catch (error) {\n      console.error('Error:', error);\n    }\n}\n  \n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={loginSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"Username\"\n            label=\"Username\"\n            name=\"username\"\n            value={username}\n            autoComplete=\"username\"\n            autoFocus\n            onChange={onChangeUsername}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            value={password}\n            autoComplete=\"current-password\"\n            onChange={onChangePassword}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"subdomain\"\n            label=\"Subdomain\"\n            type=\"text\"\n            id=\"subdomain\"\n            value={subdomain}\n            autoComplete=\"current-password\"\n            onChange={onChangeSubdomain}\n          />\n\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              type=\"submit\"\n            >\n              Sign In\n            </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\n\nexport default function Datatable(props) {\n  const {data} = props;\n  const [_, forceUpdate] = useState(0)\n    const columns = data[0] && Object.keys(data[0]);\n    console.log('data keldimi datatablega?', data !== undefined && data.map(item=> item))\n    // useEffect(() => {\n    //   forceUpdate(v=> v+1)\n    // }, [data])\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item.id}>\n              <td>{item.name}</td>\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n","import React, { useEffect, useState } from \"react\";\nimport { ProductAPI } from \"./API/productAPI\";\nimport Datatable from \"./Components/Datatable\";\n\nexport default function Home() {\n  const [data, setData] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [searchColumns, setSearchColumns] = useState([\"name\"]);\n\n  const getProduct = async () => {\n    const url = `https://face.ox-sys.com/variations?size=1000&page=1`;\n    const token = localStorage.getItem(\"token\");\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Authorization: \"Bearer \" + token,\n      },\n    });\n\n    const res = await response.json();\n    setData(res.items);\n  };\n\n  function search(rows) {\n    return rows.sort().filter((row) =>\n      searchColumns.some(\n        (column) =>\n          row[column].toString().toLowerCase().indexOf(q.toLowerCase()) > -1\n      )\n    );\n  }\n\n  const columns = data[0] && Object.keys(data[0]);\n\n  useEffect(() => {\n    getProduct();\n  }, []);\n\n  return (\n    <div>\n      <input\n          type='text'\n          value={q}\n          onChange={(e) => setQ(e.target.value)}\n        />  \n      <table cellPadding={0} cellSpacing={0}>\n        <thead>\n        <tr>\n          <th>name</th>\n        </tr>\n        </thead>\n        <Datatable data={search(data)} />\n      </table>\n    </div>\n  );\n}\n","import {useState, useEffect} from 'react'\n   \nfunction UserAPI(token) {\n    \n    const [isLogged, setIsLogged] = useState(false)\n    useEffect(() =>{\n        if(token){\n            const isLogin = ()=>{\n                setIsLogged(true)\n            };\n\n            isLogin()\n        }else{\n            setIsLogged(false)\n        }\n    }, [token])\n\n            \n    return {\n        isLogged: [isLogged, setIsLogged],\n    }\n}\n    \n\nexport default UserAPI\n","import React, {createContext, useState, useEffect} from 'react'\nimport { ProductAPI } from './API/productAPI'\n\nimport UserAPI from './API/userAPI'\n\n\nexport const GlobalState = createContext()\n\nexport const DataProvider = ({children}) =>{\n    const [token, setToken] = useState(false)\n    const [callback, setCallback] = useState(false)\n\n    useEffect(() =>{\n        const firstLogin = localStorage.getItem('token')\n        if(firstLogin){\n            setToken(firstLogin)\n        }\n                \n    },[])\n\n    const state ={\n        token: [token, setToken],\n        callback: [callback, setCallback],\n        userAPI: UserAPI(token),\n        productAPI: ProductAPI(),\n    }\n\n\n    return(\n        <GlobalState.Provider value={state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","import { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Home from \"./Home\";\nimport { useContext } from \"react\";\nimport { DataProvider, GlobalState } from \"./GlobalState\";\n\nfunction App() {\n  const token = localStorage.getItem(\"token\");\n  console.log(token, \"app.js\");\n\n  const state = useContext(GlobalState);\n  // const [isLogged] = state.userAPI.isLogged\n  console.log(\"islogged\", state);\n  return (\n    <DataProvider>\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Login} />\n          <Route path=\"/home\" component={Home} />\n        </Switch>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}