(this["webpackJsonpox-sys"]=this["webpackJsonpox-sys"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),s=(n(53),n(39)),i=(n(54),n(11)),u=n(21),l=n.n(u),d=n(25),j=n(13),b=n(104),p=n(101),m=n(103),f=n(102),h=n(96),O=n(99);function x(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://face.ox-sys.com/variations?size=10&page=1",t=localStorage.getItem("token"),e.next=4,fetch("https://face.ox-sys.com/variations?size=10&page=1",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t}});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),{product:[n,r]}}var g=n(6),v=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var w=function(){var e=v(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),s=Object(j.a)(o,2),i=s[0],u=s[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),w=x[0],y=x[1],S=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="https://".concat(w,".ox-sys.com/security/auth_check"),a="_username=".concat(r,"&_password=").concat(i,"&_subdomain=").concat(w),console.log(a),e.prev=4,e.next=7,fetch(n,{method:"POST",body:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return c=e.sent,e.next=10,c.json();case 10:o=e.sent,localStorage.setItem("token",o.token),localStorage.setItem("subdomain",w),window.location.href="/home",e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Error:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(g.jsx)(p.a,{}),Object(g.jsxs)("div",{className:e.paper,children:[Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(g.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:S,children:[Object(g.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Username",label:"Username",name:"username",value:r,autoComplete:"username",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(g.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:i,autoComplete:"current-password",onChange:function(e){u(e.target.value)}}),Object(g.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"subdomain",label:"Subdomain",type:"text",id:"subdomain",value:w,autoComplete:"current-password",onChange:function(e){y(e.target.value)}}),Object(g.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,type:"submit",children:"Sign In"})]})]})]})};function y(e){var t=e.data,n=Object(a.useState)(0),r=Object(j.a)(n,2);r[0],r[1],t[0]&&Object.keys(t[0]);return console.log("data keldimi datatablega?",void 0!==t&&t.map((function(e){return e}))),Object(g.jsx)("tbody",{children:t.map((function(e){return Object(g.jsx)("tr",{children:Object(g.jsx)("td",{children:e.name})},e.id)}))})}function S(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],i=o[1],u=Object(a.useState)(["name"]),b=Object(j.a)(u,2),p=b[0],m=(b[1],function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://face.ox-sys.com/variations?size=1000&page=1",t=localStorage.getItem("token"),e.next=4,fetch("https://face.ox-sys.com/variations?size=1000&page=1",{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+t}});case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,r(a.items);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());var f;n[0]&&Object.keys(n[0]);return Object(a.useEffect)((function(){m()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(g.jsxs)("table",{cellPadding:0,cellSpacing:0,children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:Object(g.jsx)("th",{children:"name"})})}),Object(g.jsx)(y,{data:(f=n,f.sort().filter((function(e){return p.some((function(t){return e[t].toString().toLowerCase().indexOf(s.toLowerCase())>-1}))})))})]})]})}var k=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){if(e){c(!0)}else c(!1)}),[e]),{isLogged:[r,c]}},C=Object(a.createContext)(),I=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(j.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(!1),i=Object(j.a)(s,2),u=i[0],l=i[1];Object(a.useEffect)((function(){var e=localStorage.getItem("token");e&&o(e)}),[]);var d={token:[c,o],callback:[u,l],userAPI:k(c),productAPI:x()};return Object(g.jsx)(C.Provider,{value:d,children:t})};var T=function(){var e=localStorage.getItem("token");console.log(e,"app.js");var t=Object(a.useContext)(C);return console.log("islogged",t),Object(g.jsx)(I,{children:Object(g.jsx)(s.a,{children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{path:"/",exact:!0,component:w}),Object(g.jsx)(i.a,{path:"/home",component:S})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root")),E()}},[[62,1,2]]]);
//# sourceMappingURL=main.5d21087f.chunk.js.map